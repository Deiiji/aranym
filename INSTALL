1) Compilation requirements
---------------------------

You have to have SDL 1.2.x, get it from http://www.libsdl.org/
or from your distribution vendor.

If you run a flavor of Unix or Linux, go to src/Unix folder.

If you got the source code from CVS then type
./autogen.sh && make

otherwise type ./configure && make

If everything went OK you got an executable file named "aranym".
Either install it with 'make install' (root privileges expected)
or run it directly by typing ./aranym.

It's a good idea to edit the config file ~/.aranymrc, an example you'll
find in doc/src/atari/aranymrc.example.


2) Harddisk emulation
---------------------

Since using floppy images is awkward, it is necessary to emulate harddisks.
There are two ways how you can use large amounts of data with ARAnyM:
harddisk images and mounted directories.


1. Harddisk images

Harddisk images are large files that contain the image of an atari harddisk.
They work much the same way as a floppy image. You can simply create a large
file and tell ARAnyM to use it as a harddisk, but you will need to format
it from the emulation before you can actually use it.

ARAnyM comes with a utility called "createdisk.sh" to create an empty harddisk
image file. If you would like to create an image of a real Atari harddisk then
you have two options: either create the image on the Atari (using some disk
tool like Diamong Edge or Diskus) or connect your harddrive to the ARAnyM
machine (say as a slave on the primary channel, so it's /dev/hdb under Linux).

[root@linuxHost /root]# hdparm /dev/hdb

/dev/hdb:
 multcount    = 16 (on)
 I/O support  =  1 (32-bit)
 unmaskirq    =  1 (on)
 using_dma    =  1 (on)
 keepsettings =  0 (off)
 nowerr       =  0 (off)
 readonly     =  0 (off)
 readahead    =  8 (on)
 geometry     = 1871/255/63, sectors = 30064608, start = 0

[root@linuxHost /root]# dd if=/dev/hdb of=/path/to/my/AtariDrive

That will create an image file of the whole disk.
CAUTION: Be _very_ careful using the dd command as long you are root now and
you can destroy your system by a simple typo mistake.
After this you must setup the image file geometry in the ~/.aranymrc file like
the following:

[IDE0]
Present = Yes
Path = /path/to/my/AtariDrive
Cylinders = 1871
Heads = 255
SectorsPerTrack = 63
ByteSwap = No

Note: The Cylinders/Heads/SectorPerTrack values must corespond to the geometry
returned by the hdparm command (see above, the line begining with "geometry").

If the harddisk was not bootable (or is created as empty) you will want to install
a harddisk driver on it so you could boot from the harddrive. You must have
a floppy (or floppy image) with the driver and install it from that. If you are an
atarian you know how to handle this. 


2. The mounted Host OS filesystem directories

This is done by the most clean way it could be. In order to not to patch the TOS,
the MetaDOS (BetaDOS) driver is available in src/atari/aranymfs/aranymfs.dos.bz2.
You can extract it and add to the MetaDOS configuration file (config.sys). The
example you can find in config.sys in the same directory as the driver .bz2 file.
The problem is how to put it on the harddisc image you possibly created. There
is no other way than the floppy (or its image file).

As you setup the config.sys (e.g.):

*DOS, c:\auto\aranymfs.dos, M:1

The M:1 stands for that you want to have the M: drive mapped to some Host OS
directory. The directory must be put to aranym by the command line argument -d
like:

./aranym -dm:/opt/home/atari/

This would map the /opt/home/atari/ to the TOS drive M:\.

Note: The config.sys edit tool and the .aranymrc configuration comes soon.
      The MiNT and MagiC .xfs drivers will be programmed in the future.

